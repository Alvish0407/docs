"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[0],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=i.createContext({}),l=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=l(e.components);return i.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=l(n),h=r,m=c["".concat(p,".").concat(h)]||c[h]||u[h]||o;return n?i.createElement(m,a(a({ref:t},d),{},{components:n})):i.createElement(m,a({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=h;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:r,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2587:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var i=n(7462),r=(n(7294),n(3905));const o={sidebar_position:1,title:"\u2728 Initialize",description:"Learn how to add code push to an existing Flutter project."},a="Initialize Shorebird",s={unversionedId:"code_push/initialize",id:"code_push/initialize",title:"\u2728 Initialize",description:"Learn how to add code push to an existing Flutter project.",source:"@site/docs/code_push/initialize.md",sourceDirName:"code_push",slug:"/code_push/initialize",permalink:"/code_push/initialize",draft:!1,editUrl:"https://github.com/shorebirdtech/docs/tree/main/docs/code_push/initialize.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"\u2728 Initialize",description:"Learn how to add code push to an existing Flutter project."},sidebar:"tutorialSidebar",previous:{title:"\u2601\ufe0f Code Push",permalink:"/code-push"},next:{title:"\ud83d\udce6 Release",permalink:"/code_push/release"}},p={},l=[],d={toc:l},c="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"initialize-shorebird"},"Initialize Shorebird"),(0,r.kt)("p",null,"To configure an existing Flutter project to use Shorebird, use ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird init"),"\nat the root of a Flutter project:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"shorebird init\n")),(0,r.kt)("p",null,"This does three things:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Tells Shorebird to create a unique ",(0,r.kt)("inlineCode",{parentName:"li"},"app_id")," for your app. This ",(0,r.kt)("inlineCode",{parentName:"li"},"app_id")," is\nhow Shorebird identifies your app and knows which updates to send to it. It\ndoes not need to be kept secret."),(0,r.kt)("li",{parentName:"ol"},"Creates a ",(0,r.kt)("inlineCode",{parentName:"li"},"shorebird.yaml")," file in your project's root directory.\n",(0,r.kt)("inlineCode",{parentName:"li"},"shorebird.yaml")," contains the ",(0,r.kt)("inlineCode",{parentName:"li"},"app_id")," mentioned above."),(0,r.kt)("li",{parentName:"ol"},"Adds the ",(0,r.kt)("inlineCode",{parentName:"li"},"shorebird.yaml")," to the assets section of your ",(0,r.kt)("inlineCode",{parentName:"li"},"pubspec.yaml")," file,\nensuring ",(0,r.kt)("inlineCode",{parentName:"li"},"shorebird.yaml")," is bundled with your app's assets and is available\nto the Shorebird updater at runtime.")),(0,r.kt)("p",null,"You can safely commit these changes, they will have no affect on your app\nwhen not using Shorebird."),(0,r.kt)("p",null,"Example output for an app named ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird_test"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'$ shorebird init\n? How should we refer to this app? (shorebird_test) shorebird_test\n\u2713 Initialized Shorebird (38ms)\n\n\ud83d\udc26 Shorebird initialized successfully!\n\n\u2705 A shorebird app has been created.\n\u2705 A "shorebird.yaml" has been created.\n\u2705 The "pubspec.yaml" has been updated to include "shorebird.yaml" as an asset.\n\nReference the following commands to get started:\n\n\ud83d\udce6 To create a new release use: "shorebird release".\n\ud83d\ude80 To push an update use: "shorebird patch".\n\ud83d\udc40 To preview a release use: "shorebird preview".\n\nFor more information about Shorebird, visit https://shorebird.dev\n')),(0,r.kt)("p",null,"The generated ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird.yaml")," should look similar to:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# This file is used to configure the Shorebird updater used by your application.\n# Learn more at https://shorebird.dev\n# This file should be checked into version control.\n\n# This is the unique identifier assigned to your app.\n# It is used by your app to request the correct patches from Shorebird servers.\napp_id: 8c846e87-1461-4b09-8708-170d78331aca\n")),(0,r.kt)("p",null,"If your application contains flavors, ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird init")," will create an app per flavor and ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird.yaml")," will include all flavors and their corresponding ",(0,r.kt)("inlineCode",{parentName:"p"},"app_ids"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# This file is used to configure the Shorebird updater used by your application.\n# Learn more at https://shorebird.dev\n# This file should be checked into version control.\n\n# This is the unique identifier assigned to your app.\n# It is used by your app to request the correct patches from Shorebird servers.\napp_id: 864ab1b0-ba78-4b15-990a-a63cec35a41b\nflavors:\n  development: 864ab1b0-ba78-4b15-990a-a63cec35a41b\n  production: 6b6e6631-4fbe-4645-8d9d-d5247656d975\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"app_id")," is a required field in every ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird.yaml"),". In the case of flavors, ",(0,r.kt)("inlineCode",{parentName:"p"},"app_id")," will default to the first flavor and will be overwritten at build time to the corresponding flavor's ",(0,r.kt)("inlineCode",{parentName:"p"},"app_id"),".")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Shorebird code push requires the internet permission to be added to your\n",(0,r.kt)("inlineCode",{parentName:"p"},"AndroidManifest.xml")," file. (located in\n",(0,r.kt)("inlineCode",{parentName:"p"},"android/app/src/main/AndroidManifest.xml"),".) This is required for the app to be\nable to communicate with the Shorebird servers to pull new patches."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest ...>\n<uses-permission android:name="android.permission.INTERNET" />\n...\n</manifest>\n')),(0,r.kt)("p",{parentName:"admonition"},"Running ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird doctor")," will check that your ",(0,r.kt)("inlineCode",{parentName:"p"},"AndroidManifest.xml")," file is\nset up correctly, and ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird doctor --fix")," will add this permission for you.")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you already have a ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird.yaml")," and would like to re-initialize your project, use ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird init --force"),". This will overwrite your existing ",(0,r.kt)("inlineCode",{parentName:"p"},"shorebird.yaml")," and create a new app/app_id. Existing apps will not be affected by re-initializing shorebird.")))}u.isMDXComponent=!0}}]);